@import url('https://fonts.googleapis.com/css2?family=Creepster&display=swap');

:root {
    --main-red: #ff4848;
    --dark-red: #a01c1c;
    --border-color: #0a203e;
    --text-light: #fff;
    --hp-color: #32cd32;
    --text-dark: #2c1e14;
    --panel-border: #5a3d2b;
}

body {
    font-family: 'Creepster', cursive;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background-image: url('assets/background.jpg');
    background-size: cover;
    background-position: center;
    color: var(--main-red);
    overflow: hidden;
    cursor: url('assets/anchor.png'), auto;
}

#gameContainer {
    width: 90vw;
    height: 80vh;
    max-width: 1000px;
    max-height: 700px;
    border: 5px solid var(--border-color);
    background-color: rgba(0, 0, 0, 0.4);
    position: relative;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
}

.target { position: absolute; width: 100px; height: 100px; -webkit-user-drag: none; user-select: none; transition: transform 0.2s ease, opacity 0.3s ease; }
.target:hover { transform: scale(1.1); }
.target.dying { opacity: 0; transform: scale(0.8) rotate(-25deg); }
.miniboss { width: 180px; height: 180px; }
.finalboss { width: 250px; height: 250px; filter: drop-shadow(0 0 15px #ff4848); }
.health-bar-container { position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%); width: 80%; height: 15px; background-color: #555; border: 2px solid #000; border-radius: 5px; }
.health-bar { width: 100%; height: 100%; background-color: var(--main-red); border-radius: 3px; transition: width 0.2s ease; }

#uiContainer { position: absolute; top: 10px; right: 15px; display: flex; justify-content: flex-end; align-items: center; gap: 20px; font-size: 36px; text-shadow: 2px 2px 5px #000; z-index: 50; }
#playerHealthDisplay { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); color: var(--hp-color); font-size: 36px; text-shadow: 2px 2px 5px #000; z-index: 50; }
#inGameControls { position: absolute; bottom: 10px; left: 15px; z-index: 50; display: flex; gap: 10px; }
#inGameControls button { font-family: 'Creepster', cursive; font-size: 20px; padding: 5px 15px; background-color: rgba(160, 28, 28, 0.7); color: var(--text-light); border: 2px solid var(--main-red); border-radius: 8px; transition: all 0.2s ease; cursor: url('assets/anchor.png'), auto; }
#inGameControls button:hover { background-color: var(--main-red); }

.messageScreen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); display: flex; justify-content: center; align-items: center; text-align: center; z-index: 100; padding: 20px; box-sizing: border-box; }
.menu-panel { background-image: url('assets/ui_bg.png'); background-size: 100% 100%; padding: 30px 40px; border-radius: 15px; box-shadow: 0 0 25px rgba(0,0,0,0.5); max-width: 95%; color: var(--text-dark); display: flex; flex-direction: column; align-items: center; gap: 20px; }
.main-menu { width: 500px; }
.main-menu button { width: 80%; font-size: 36px; padding: 15px; }
.main-menu .button-row { width: 100%; }
.main-menu .button-row button { width: 50%; font-size: 24px; padding: 10px; }

.setup-menu { flex-direction: row; gap: 20px; }
#character-container { flex-basis: 40%; display: flex; flex-direction: column; align-items: center; gap: 15px; }
#stanley-portrait { width: 180px; height: 180px; border-radius: 50%; border: 5px solid var(--panel-border); }
#stanley-dialogue { background-color: #f0e6d1; border: 3px solid var(--panel-border); padding: 15px; border-radius: 10px; font-size: 22px; position: relative; }
#stanley-dialogue::after { content: ''; position: absolute; top: -15px; left: 50%; transform: translateX(-50%); border-width: 0 15px 15px 15px; border-style: solid; border-color: transparent transparent var(--panel-border) transparent; }
#settings-container { flex-basis: 60%; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 20px; }
.messageScreen p { font-size: 24px; margin: 0; }
.messageScreen button { font-family: 'Creepster', cursive; color: var(--text-light); background-color: var(--dark-red); border: 3px solid var(--main-red); border-radius: 10px; transition: all 0.2s ease; cursor: url('assets/anchor.png'), auto; }
.messageScreen button:hover { background-color: var(--main-red); border-color: var(--text-light); }
#playButton, #restartButton, #shopBackButton, #mapBackButton, #backToMainButton { font-size: 32px; padding: 15px 50px; }
.button-row { display: flex; gap: 10px; justify-content: center; }
.button-row button { font-size: 20px; padding: 10px; width: 180px; }
.button-row button.selected { background-color: var(--main-red); border-color: var(--text-light); }
.hidden { display: none; }
#pauseScreen .menu-panel, #gameOverScreen .menu-panel { gap: 25px; }
#pauseScreen h1, #gameOverScreen h1 { font-size: 82px; margin: 0; }
#stanley-notification { position: absolute; top: 20px; right: 20px; width: 300px; background-color: rgba(0,0,0,0.85); border: 3px solid var(--main-red); border-radius: 10px; padding: 15px; display: flex; align-items: center; gap: 15px; z-index: 101; opacity: 0; transition: opacity 0.5s ease; pointer-events: none; }
#stanley-notification.show { opacity: 1; }
#stanley-notification img { width: 60px; height: 60px; border-radius: 50%; }
#stanley-notification p { font-size: 18px; color: var(--text-light); text-align: left; }

#shopScreen { background-color: transparent; }
#shop-container { display: flex; flex-direction: column; align-items: center; gap: 15px; width: 100%; }
#shop-header { display: flex; align-items: center; gap: 20px; }
#mermaid-portrait { width: 150px; height: 150px; }
#shop-items { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 20px; }
.shop-item { background-color: rgba(240, 230, 209, 0.8); border: 3px solid var(--panel-border); padding: 15px; border-radius: 10px; display: flex; flex-direction: column; align-items: center; justify-content: space-between; gap: 10px; }
.shop-item h3 { font-size: 28px; margin: 0; }
.shop-item p { font-size: 20px; }
.shop-item button { font-size: 22px; padding: 8px 25px; }
.shop-item button:disabled { background-color: #555; border-color: #888; color: #aaa; cursor: not-allowed; }
#pearl-display { font-size: 32px; margin-top: 20px; text-shadow: 1px 1px 2px #fff; }

#mapScreen { background-color: transparent; }
.map-container { display: flex; gap: 30px; }
.map-item { background-color: rgba(240, 230, 209, 0.8); border: 3px solid var(--panel-border); padding: 20px; border-radius: 10px; width: 300px; display: flex; flex-direction: column; align-items: center; gap: 15px; }
.map-item h2 { font-size: 36px; margin: 0; }
.map-play-button { font-size: 28px !important; padding: 10px 40px !important; }
.map-item.locked { filter: grayscale(1); opacity: 0.7; }
.map-item.locked p { font-size: 22px; }